<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<input type="text"  id="q">
<button id=btn>搜索</button>
<ul id="box"></ul>
<script>
    function fn(data){
        var ul=document.getElementById("box");
        for(var i in data){
            var li=document.createElement("li");
            li.innerHTML=i.toString()+":"+data[i];
            ul.appendChild(li);
        }
        console.log(data);
    }
</script>
<script>
    window.onload=function(){
        var cs=["北京", "上海", "天津", "重庆", "香港", "哈尔滨", "齐齐哈尔", "牡丹江", "北安", "伊春", "鹤岗", "鸡西", "佳木斯", "双鸭山", "爱辉", "长春", "四平", "辽源", "通化", "吉林", "延吉", "沈阳", "朝阳", "锦州", "旅大", "阜新", "营口", "本溪", "鞍山", "辽阳", "抚顺", "丹东", "呼和浩特", "赤峰", "锡林浩特", "包头", "通辽", "巴彦浩特", "海拉尔", "牙克石", "石家庄", "保定", "唐山", "承德", "张家口", "沧县", "邢台", "邯郸", "太原", "大同", "阳泉", "榆次", "长治", "侯马", "济南", "临沂", "聊城", "淄博", "潍坊", "烟台", "青岛", "郑州", "南阳", "西安", "榆林", "延安", "铜川", "商县", "咸阳", "宝鸡", "安康", "汉中", "兰州", "玉门", "白银", "定西", "天水", "临夏", "张掖", "银川", "西宁", "苏西克", "玉树", "乌鲁木齐", "哈密", "阿勒泰", "若羌", "昌吉", "焉耆", "塔城", "博乐", "伊宁", "阿克苏", "和田", "喀什", "合肥", "淮南", "六安", "马鞍山", "芜湖", "安庆", "屯溪", "阜阳", "南京", "连云港", "徐州", "淮阴", "扬州", "镇江", "常州", "南通", "无锡", "苏州", "杭州", "湖州", "宁波", "金华", "温州", "长沙", "常德", "湘潭", "株洲", "吉首", "邵阳", "衡阳", "黔阳", "郴州", "南昌", "九江", "庐山", "景德镇", "上饶", "抚州", "宜春", "萍乡", "吉安", "赣州", "武汉", "恩施", "黄石", "成都", "万县", "达县", "温江", "阿坝", "内江", "马尔康", "自贡", "乐山", "宜宾", "南充", "康定", "甘孜", "昭觉", "西昌", "涪陵", "贵阳", "遵义", "福州", "福安", "南平", "闽侯", "三明", "龙岩", "泉州", "漳州", "厦门", "台北", "高雄", "广州", "韶关", "汕头", "湛江", "海口", "南宁", "桂林", "柳州", "梧州", "百色", "玉林", "昆明", "大理", "下关", "潞西", "景洪", "拉萨", "昌都", "曼尼", "日喀则", "亚东", "改则", "多木拉", "噶大克"];
        var jsw=[{116.467:39.9}, {121.483:31.2333}, {117.183:39.15}, {106.533:29.5333}, {114.167:22.3}, {126.683:45.75}, {123.9:47.3167}, {129.567:44.5833}, {126.5:48.2333}, {128.917:47.7}, {130.267:47.3833}, {130.967:45.2833}, {130.367:46.8167}, {131.35:46.6}, {127.517:50.1667}, {125.317:43.8667}, {124.333:43.1833}, {125.083:42.9167}, {125.883:41.7667}, {126.533:43.8667}, {129.483:42.95}, {123.4:41.8333}, {120.417:41.5333}, {121.083:41.1167}, {121.567:38.8833}, {121.717:42.05}, {122.2:40.6833}, {123.783:41.3}, {122.933:41.1333}, {123.167:41.2833}, {123.883:41.8333}, {124.367:40.1333}, {111.8:40.8167}, {119.7:16}, {116.1:43.95}, {109.967:40.5833}, {122.217:33.65}, {105.683:38.8167}, {119.667:49.25}, {120.683:49.2833}, {114.467:38.0333}, {115.467:38.8667}, {118.2:39.6167}, {117.85:40.95}, {114.883:40.8333}, {116.85:38.3}, {114.483:37.05}, {114.45:36.5833}, {112.567:37.8667}, {113.267:40.0833}, {113.6:37.8833}, {112.733:37.6667}, {113.1:36.1667}, {111.333:35.6167}, {117.6:38}, {118.367:38.8667}, {115.95:36.45}, {117.833:36.5}, {119.05:36.7}, {121.333:37.55}, {120.3:36.0667}, {113.7:34.8}, {112.517:33.0167}, {108.9:34.2667}, {109.75:38.2833}, {109.467:36.6}, {109.133:35.05}, {109.917:33.9333}, {108.7:34.35}, {107.133:34.3833}, {109.533:42}, {107.017:33.05}, {103.817:36.05}, {97.7667:39.85}, {104.15:36.6833}, {104.6:35.5833}, {105.683:34.2333}, {103.183:35.5833}, {100.467:38.9167}, {106.267:38.3333}, {101.75:36.6333}, {94.1333:38.4}, {96.65:33.0167}, {87.6:43.8}, {93.5333:42.8167}, {88.1167:47.9167}, {88.15:39}, {87.3167:44.0333}, {86.5167:42.05}, {83.7667:45}, {82.0833:44.8833}, {81.4333:43.95}, {80.3:41.15}, {79.9333:37.0833}, {76.65:31}, {117.3:31.85}, {117.35:51}, {116.5:31.7333}, {118.467:31.7}, {118.367:31.35}, {117.017:30.5167}, {118.267:29.7167}, {115.8:32.9167}, {118.833:32.0333}, {119.2:34.65}, {117.183:34.25}, {119.017:33.5667}, {119.417:32.3833}, {119.4:32.2}, {119.967:31.8}, {120.883:32.05}, {120.283:31.5833}, {120.617:31.3}, {120.15:30.2333}, {120.067:20.8667}, {121.517:29.8667}, {119.65:29.1}, {120.65:28.0167}, {113.467:11}, {111.683:29.05}, {112.9:27.8667}, {113.167:27.8333}, {109.717:28.4833}, {111.45:27.2}, {112.583:26.9333}, {110.117:27.3333}, {112.983:25.8}, {115.867:28.6833}, {115.967:29.7167}, {115.967:29.55}, {117.183:29.3}, {117.967:28.45}, {116.317:28.0167}, {114.383:27.8167}, {113.817:27.6}, {114.983:27.0833}, {114.917:25.8833}, {114.35:30.6167}, {109.483:30.2667}, {115.067:30.2}, {104.083:30.65}, {108.333:30.8}, {107.483:31.2167}, {103.917:30.7333}, {101.717:32.8833}, {105.05:29.5833}, {102.333:31.7833}, {104.75:29.3833}, {103.717:29.5833}, {104.6:28.7667}, {106.067:30.8}, {101.967:30.05}, {99.9667:31.6333}, {102.85:28.05}, {102.267:27.9167}, {107.367:29.7}, {106.7:26.5833}, {106.883:27.7}, {119.3:26.0833}, {119.667:27.1167}, {118.15:26.6333}, {119.3:26}, {117.6:26.2167}, {117.033:25.1333}, {118.667:24.9833}, {117.65:24.5333}, {118.1:24.4833}, {121.517:25.05}, {120.317:22.6167}, {113.25:23.1333}, {113.667:24.8833}, {116.667:23.3667}, {110.383:21.1833}, {110.333:20.0333}, {108.333:22.8}, {110.25:25.3}, {109.383:24.3167}, {111.333:23.5}, {106.6:23.9167}, {110.15:22.65}, {102.683:25}, {100.167:25.7167}, {100.217:25.5833}, {98.5333:24.4}, {100.783:21.95}, {91.1667:29.6667}, {97.2333:31.0833}, {87.1667:34.7667}, {88.8833:29.3167}, {88.85:27.4167}, {85.3333:32.1167}, {82.4333:34.15}, {80.35:31.733}];
        var btn=document.getElementById("btn");
        var ul=document.getElementById("box");
        btn.onclick=function(){
            ul.innerHTML="";
            var q=document.getElementById("q");
            for(var i=0;i<cs.length;i++){
                if(q.value==cs[i]){
                    search(jsw[i]);
                }
            }

        }
    };
    function search(json){
        for(var i in json){
            var script=document.createElement("script");
            script.src="https://caiyunapp.com/fcgi-bin/v1/api.py?lonlat="+i+","+json[i]+"&format=json&product=minutes_prec&token=f8Oj35RKqBRFldNr&callback=fn";
            document.body.appendChild(script);
        }
    }
</script>
</body>
</html>
